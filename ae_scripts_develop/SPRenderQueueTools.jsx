{	// Demo Palette.jsx	// 	// This script creates and shows a floating palette.	// The floating palette contains buttons that launch a variety of	// demo scripts.		function SPRenderQueueTools(thisObj)	{		// Called when a button is pressed, to invoke its associated script		function onHelpButtonClick()		{			alert("Click a button to run one of the following scripts:\n\n"  +				"Eat Some Poo:\n"+				"Tasty Shit.\n" +				"\n" +				"Written by Daniel Harkness, Spinifex Group.\n" +				"https://github.com/spinifexgroup-studio/studio_pipeline/tree/master/ae_scripts_develop\n" +				"\n" +				"Real help file to come.\n" +				"", "SPRenderQueueTools"				  );		}		// This function adds a new help button to the palette		function addHelpButton(palette, buttonRect)		{			var newButton = palette.add("button", buttonRect, "?");			newButton.onClick = onHelpButtonClick;			return newButton;		}		// Called when a button is pressed, to invoke its associated script		function onScriptButtonClick()		{			var prevCurrentFolder = Folder.current;			Folder.current = this.currentDirectory;			// The scriptFile variable was set during addButton.			// Run the script by opening it, reading it, and evaluating its contents.			var scriptFile = new File(this.scriptFileName);			scriptFile.open();			eval(scriptFile.read());			scriptFile.close();			Folder.current = prevCurrentFolder;		}		// This function adds a new script-launching button to the palette		function addScriptButton(palette, buttonRect, buttonLabel, buttonCurrentDirectory, buttonScriptName)		{			var newButton = palette.add("button", buttonRect, buttonLabel);			// JavaScript has an unusual but useful bit of functionality.			// You can just assign a value to a new variable name and JS will			// store it for you. The lines below create new variables named			// scriptName and currentDirectory within newButton, and sets them			// to buttonScriptName and myCurrentDirectory.			// Later, in the onButtonClick() callback, the button will first			// re-establish the current directory, then load and			// run that file.			newButton.scriptFileName   = buttonScriptName;			newButton.currentDirectory = buttonCurrentDirectory;			newButton.onClick = onScriptButtonClick;			return newButton;		}		function isSecurityPrefSet()		{			var securitySetting = app.preferences.getPrefAsLong("Main Pref Section", "Pref_SCRIPTING_FILE_NETWORK_SECURITY");			return (securitySetting == 1);		}		if (isSecurityPrefSet() == true) {			//			// Save the value of the current directory.			// -- In some cases, the current directory value is lost when button and other			// callbacks are invoked from a floating palette.			// -- Some of the buttons in the demo palette need to read other script			// files.  The most convenient notation for the filenames is to specify them			// relative to the current directory. And if the current directory is set wrong,			// then the nested scripts will fail to run correctly.			// -- to fix this, save the current directory now, and make sure to 			// re-establish it during onScriptButtonClick(). This will insure that the 			// files run during onScriptButtonClick() can properly read other script files.			//			var myDirectory = Folder.current;			var scriptDirectory = new Folder(myDirectory.absoluteURI+"/(SPFunctionsAndClasses)");			// Horizontal Spacing variables			var left_margin_width    = 5;			var right_margin_width   = 5;			var between_button_width = 5;			// Verticle spacing variables			var button_height = 20;			var between_button_width = 5			// Width of buttons depends on platform and language			var button_width;			if (system.osName.indexOf("Windows") != -1) {				// Windows system has narrower buttons.				button_width = 250;			} else {				// Mac has wider buttons				button_width = 270;			}			if (app.language == Language.JAPANESE) {				// Add 20 pixels for japanese machines, default font is wider				button_width += 17;			}			var l_button_left  = left_margin_width;			var l_button_right = l_button_left + button_width;			var palette_width  = l_button_right + right_margin_width;			// Create and show a floating palette			//			var my_palette = new Window("palette","SPRenderQueueTools");			my_palette.bounds = [300,200,300+palette_width,355];			var button1 = addScriptButton(my_palette,[l_button_left,   5, l_button_right, 25], 					"Create folder and output for selected comps",    scriptDirectory, "SPCreateFolderAndOutputForSelectedComps.jsx");			var button3 = addScriptButton(my_palette,[l_button_left,  30, l_button_right, 50], 					"Create folder for sequences in render queue", 		scriptDirectory, "SPCreateFolderForRenderQueueSequences.jsx");			var button4 = addScriptButton(my_palette,[l_button_left,  55, l_button_right, 75], 					"Add proxy module for items in render queue", scriptDirectory, "SPAddProxyModuleToRenderQueueItems.jsx");			var button6 = addScriptButton(my_palette,[l_button_left,   80, l_button_right, 100], 					"Change directory for items in render Queue",     scriptDirectory, "SPChangeRenderLocations.jsx");			var button12 = addHelpButton(my_palette,[l_button_left,  130, l_button_right, 150]);			my_palette.show();		} else {			alert ("This demo requires the scripting security preference to be set.\nGo to the \"General\" panel of your application preferences, and make sure that \"Allow Scripts to Write Files and Access Network\" is checked.", "Demo Palette");		}	}			SPRenderQueueTools(this);}